@model FullStack_Task.Areas.Identity.Models.ViewModels.RegisterViewModel
@using FullStack_Task.Areas.Identity.Models;
@using FullStack_Task.Models.OtherModels;
@using FullStack_Task.HorizontalClasses;




@{ 
    var salutations = ViewData["Data"] as IList<Salutation>;
    var areas = ViewData["BusinessAreas"] as IList<BusinessArea>;
    var countries = ViewData["Countries"] as IList<Country>;
}



@section Styles {

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
    <link rel="stylesheet" href="~/css/Register.css" />

}



<h3>New User Registration</h3>
<h6 class="display-screen"></h6>
<br />

<iframe name="forms_iframe" style="display: none;"></iframe>

<div class="container-fluid my-form">
    <div class="d-flex flex-md-row px-3 mt-4 flex-column-reverse my-form">

        <!-- Left Side Proccess Bar -->
        <div class="col-md-2 progress-container">
            <div class="card1">
                <ul id="progressbar" class="text-center">
                    <li class="active one" data-counter="1"></li>
                    <li class="step0 tow" data-counter="2"></li>
                    <li class="step0 three" data-counter="3"></li>
                    <li class="step0 four" data-counter="4"></li>
                    <li class="step0 five" data-counter="5"></li>
                </ul>
                <h6 class="mb-5" data-counter="1">Contact Info</h6>
                <h6 class="mb-5" data-counter="2">Areas</h6>
                <h6 class="mb-5" data-counter="3">Address</h6>
                <h6 class="mb-5" data-counter="4">Password</h6>
                <h6 class="mb-5" data-counter="5">Completed</h6>
            </div>
        </div>


        <div class="col-md-10 steps-container">

            <!-- Contact Info -->
            <div class="card2 first-screen show ml-2" data-counter="1">
                <input name="title" type="hidden" value="STEP 1: Contact Info" />


                @using (Html.BeginForm("ContactValid", "AccountM", new { area = "Identity" }, FormMethod.Post, null, new { @class = "registration-form", target = "forms_iframe" }))
                {
                    @Html.AntiForgeryToken()
                    <div asp-validation-summary="All" class="text-danger"></div>

                    <div class="row">

                        <div class="col-md-6">
                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("SALUTATION:", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.DropDownListFor(m => m.Contact.SalutationId, new SelectList(@salutations, "ID", "Name"), "select", new { @class = "form-control myinput" })
                                        @Html.Label("EMAIL WILL BE YOUR LOGIN", null, new { @class = "details hidden" })
                                        @Html.ValidationMessageFor(m => m.Contact.SalutationId)
                                    </div>
                                </div>
                            </div>
                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("FIRSTNAME:", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Contact.FirstName, new { @class = "form-control myinput" })
                                        @Html.ValidationMessageFor(m => m.Contact.FirstName)
                                    </div>
                                </div>
                            </div>
                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("MIDDLE NAME:", null, new { @class = " my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Contact.MiddleName, new { @class = "form-control myinput" })
                                        @Html.ValidationMessageFor(m => m.Contact.MiddleName)
                                    </div>
                                </div>
                            </div>
                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("LAST NAME:", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Contact.LastName, new { @class = "form-control myinput" })
                                        @Html.ValidationMessageFor(m => m.Contact.LastName)
                                    </div>
                                </div>
                            </div>
                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("COMPANY:", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Contact.Company, new { @class = "form-control myinput" })
                                        @Html.ValidationMessageFor(m => m.Contact.Company)
                                    </div>
                                </div>
                            </div>
                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("TITLE:", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Contact.Title, new { @class = "form-control myinput" })
                                        @Html.ValidationMessageFor(m => m.Contact.Title)
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("EMAIL:", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Contact.Email, new { @class = "form-control myinput" })
                                        @Html.Label("EMAIL WILL BE YOUR LOGIN", null, new { @class = "details" })
                                        @Html.ValidationMessageFor(m => m.Contact.Email)
                                    </div>
                                </div>
                            </div>
                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("CONFIRM EMAIL:", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Contact.ConfirmEmail, new { @class = "form-control myinput" })
                                        @Html.ValidationMessageFor(m => m.Contact.ConfirmEmail)
                                    </div>
                                </div>
                            </div>
                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("PHONE:", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Contact.Phone, new { @class = "form-control phone myinput" })
                                        @Html.ValidationMessageFor(m => m.Contact.Phone)
                                    </div>
                                </div>
                            </div>
                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("FAX:", null, new { @class = " my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Contact.Fax, new { @class = "form-control fax myinput" })
                                        @Html.ValidationMessageFor(m => m.Contact.Fax)
                                    </div>
                                </div>
                            </div>
                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("MOBILE:", null, new { @class = " my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Contact.Mobile, new { @class = "form-control mobile myinput" })
                                        @Html.ValidationMessageFor(m => m.Contact.Mobile)
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>


                }

            </div>

            <!-- Areas -->
            <div class="card2 ml-2" data-counter="2">
                <input name="title" type="hidden" value="STEP 2: Areas" />
                @using (Html.BeginForm("AreasValid", "AccountM", new { area = "Identity" }, FormMethod.Post, null, new { @class = "registration-form", target = "forms_iframe" }))
                {
                    @Html.AntiForgeryToken()
                    <div asp-validation-summary="All" class="text-danger"></div>

                    <div class="row" style="margin-left: 5%; padding-left: 5%;">
                        <div class="col-md-6">
                            @Html.Label("Business Areas", null, new { @class = "required my-label" })
                            @foreach (var area in areas)
                            {
                                <div style="margin-left: 5%;">
                                    <input type="checkbox" id="area" name="Areas.BusinessAreas" value="area" />
                                    @Html.Label(area.Name, null, new { @class = "my-label" })

                                </div>
                            }
                        </div>
                        <div class="col-md-6">
                            <div class="form-group green-border-focus" style="width: 77%;">
                                @Html.Label("Business Areas", null, new { @class = "required my-label" })
                                @Html.TextAreaFor(m => m.Areas.Comment, new { @class = "form-control required my-label", @cols = 3, @rows = 5 })
                                @Html.Label("LET US KNOW FOR WHICH NETWORK YOU ARE REQUESTING ACCESS, AND ANY OTHER COMMENTS YOU'D LIKE TO LEAV US", null, new { @class = "details" })
                            </div>
                        </div>
                    </div>
                }
            </div>

            <!-- Address -->
            <div class="card2 ml-2" data-counter="3">
                <input name="title" type="hidden" value="STEP 3: Address" />

                <div class="row">
                    <div class="col-md-6" style="margin: 0 auto;">

                        @using (Html.BeginForm("AddressValid", "AccountM", new { area = "Identity" }, FormMethod.Post, null, new { @class = "registration-form", target = "forms_iframe" }))
                        {
                            @Html.AntiForgeryToken()
                            <div asp-validation-summary="All" class="text-danger"></div>

                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("COUNTRY:", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.DropDownListFor(m => m.Address.Country, new SelectList(@countries, "Name", "Name"), "select", new { @class = "form-control dropdown", @id = "country-selection" })
                                        @Html.ValidationMessageFor(m => m.Address.Country)
                                    </div>
                                </div>
                            </div>

                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("OFFICE NAME:", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Address.OfficeName, new { @class = "form-control myinput" })
                                        @Html.ValidationMessageFor(m => m.Address.OfficeName)
                                    </div>
                                </div>
                            </div>

                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("ADDRESS:", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Address.Street, new { @class = "form-control myinput" })
                                        @Html.ValidationMessageFor(m => m.Address.Street)
                                    </div>
                                </div>
                            </div>

                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("POSTAL CODE:", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Address.PostalCode, new { @class = "form-control myinput" })
                                        @Html.ValidationMessageFor(m => m.Address.PostalCode)
                                    </div>
                                </div>
                            </div>

                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("CITY", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(m => m.Address.City, new { @class = "form-control myinput" })
                                        @Html.ValidationMessageFor(m => m.Address.City)
                                    </div>
                                </div>

                            </div>

                            <div class="form-group my-form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        @Html.Label("STATE:", null, new { @class = "required my-label" })
                                    </div>
                                    <div class="col-md-9">
                                        @*@Html.DropDownListFor(m => m.Address.State, new SelectList(string.Empty, "Name", "Name"), "select", new { @class = "form-control dropdown", @id = "state-selection" })*@
                                        <div id="state-drop-down">
                                            <select class="form-control dropdown" id="state-selection" name="Address.State">
                                                <option value="">Select Country</option>
                                            </select>
                                        </div>
                                        @Html.ValidationMessageFor(m => m.Address.State)
                                    </div>
                                </div>
                            </div>

                        }

                    </div>
                </div>

            </div>

            <!-- Password -->
            <div class="card2 ml-2" data-counter="4">
                <input name="title" type="hidden" value="STEP 4: Password" />

                <div class="row">
                    <div class="col-md-9" style="margin: 0 auto;">

                        @using (Html.BeginForm("PasswordValid", "AccountM", new { area = "Identity" }, FormMethod.Post, null, new { @class = "registration-form", target = "forms_iframe" }))
                        {
                            @Html.AntiForgeryToken()
                            <div asp-validation-summary="All" class="text-danger"></div>

                            <div class="row">

                                <div class="col-md-6">

                                    <div class="form-group my-form-group">
                                        <div class="row">
                                            <div class="col-md-3">
                                                @Html.Label("PASSWORD:", null, new { @class = "required my-label" })
                                            </div>
                                            <div class="col-md-9">
                                                @Html.TextBoxFor(m => m.Password.Password, new { @class = "form-control myinput" })
                                                @Html.ValidationMessageFor(m => m.Password.Password)
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group my-form-group">
                                        <div class="row">
                                            <div class="col-md-3">
                                                @Html.Label("CONFIRM PASSWORD:", null, new { @class = "required my-label" })
                                            </div>
                                            <div class="col-md-9">
                                                @Html.TextBoxFor(m => m.Password.ConfirmPassword, new { @class = "form-control myinput" })
                                                @Html.ValidationMessageFor(m => m.Password.ConfirmPassword)
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group my-form-group">
                                        <div class="row">
                                            <div class="col-md-3">
                                                @Html.Label("CAPTCHA:", null, new { @class = "required my-label" })
                                            </div>
                                            <div class="col-md-9" style="text-align: left;">
                                                <img id="img-captcha" src="~/api/Captcha" style="width: 100%;" />
                                                <a href="#" id="refresh-captcha">Show another code</a>
                                                <input type="text" class="form-control" placeholder="Captcha Code" asp-for="Password.CaptchaCode" maxlength="4" />
                                                @Html.Label("PUT IN THE ANSWER TO THE MATH EQUATION", null, new { @class = "details" })
                                                <span asp-validation-for="Password.CaptchaCode" class="text-danger"></span>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="form-group my-form-group">
                                        <div class="row">
                                            <div class="col-md-3">
                                            </div>
                                            <div class="col-md-9">
                                                <div style="text-align: left;">
                                                    <input type="checkbox" id="AcceptTerms" name="Password.AcceptTerms" value="AcceptTerms" />
                                                    @Html.Label("I have read and accept the terms of use", null, new { @class = "" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-md-6">

                                    <div class="cloud-message">
                                        <svg class="cloud-message-svg" width="333" height="200" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M 10 10 H 300 V 187 H 77 V 40 Z" fill="lightgray" />
                                        </svg>
                                        <div class="cloud-message-info">
                                            <strong class="warning">Instructions:</strong>
                                            <p>
                                                Password must include: <br />
                                                - at least 8 characters <br />
                                                - an UPPER case letter <br />
                                                - a lower case letter <br />
                                                - a number <br />
                                            </p>
                                        </div>
                                    </div>



                                </div>

                            </div>

                        }

                    </div>
                </div>

            </div>

            <!-- Completed -->
            <div class="card2 ml-2 last-screen" data-counter="5">
                <input name="title" type="hidden" value="STEP 5: Completed" />
                <div class="row">
                    <div class="row">
                        <div class="col-md-1">
                            <img alt="check" src="@Url.Content("~/images/check.jpg")" width="33" height="33" />
                        </div>
                        <div class="col-md-11">
                            <h3>Thank you for registering!</h3>
                            <p>
                                A registration confirmation email was sent to the email address provided. Your registration will be sent
                                for approval and activation to the Administrator. <strong>
                                    You will receive an email when your account is ready
                                    to use.
                                </strong>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>



    <!-- Go Back -->
    <div class="row text-center justify-content-center">
        <div class="col-md-7">

        </div>
        <div class="col-md-5">
            <div style="display:flex;">
                <button class="prev btn btn-light">Back</button>
                <button class="next-button btn btn-primary">Next</button>
            </div>
        </div>
    </div>

    <!-- Go To Login -->
    <div class="row">
        <div class="col-md-2" style="text-align:left;">
            <a class="mr-0" href="/Identity/Account/Login">Back to login</a>
        </div>
    </div>

</div>








@section Scripts {

    <script type="text/javascript" src="~/js/Register.js"></script>
    <partial name="_ValidationScriptsPartial" />

    <script>
        $(document).ready(function () {

            $("#refresh-captcha").click(function () {
                resetCaptchaImage();
            });

            function resetCaptchaImage() {
                d = new Date();
                $("#img-captcha").attr("src", "../../api/Captcha");
            }

        });
    </script>

}


































@*
    <div class="row">
        <div class="col-md-4">
            <form asp-action="Register">
                <div asp-validation-summary="All" class="text-danger"></div>
                <div class="form-group">
                    <label asp-for="FirstName" class="control-label"></label>
                    <input asp-for="FirstName" class="form-control" />
                    <span asp-validation-for="FirstName" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="LastName" class="control-label"></label>
                    <input asp-for="LastName" class="form-control" />
                    <span asp-validation-for="LastName" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Email" class="control-label"></label>
                    <input asp-for="Email" class="form-control" />
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Password" class="control-label"></label>
                    <input asp-for="Password" class="form-control" />
                    <span asp-validation-for="Password" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="ConfirmPassword" class="control-label"></label>
                    <input asp-for="ConfirmPassword" class="form-control" />
                    <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <input type="submit" value="Create" class="btn btn-primary" />
                </div>
            </form>
        </div>
    </div>

*@